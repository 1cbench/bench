{
  "task": "Создай функцию, которая устанавливает во всех строках ТЧ «Товары» значение поля «СкладСтроки» равным реквизиту документа «Склад».",
  "context": "{\n  \"Documents\": [\n    {\n      \"id\": \"Заказ\",\n      \"properties\": [\n        \"Номер\": \"string\",\n        \"Дата\": \"date\",\n        \"Клиент\": \"Ref.Контрагенты\",\n        \"Склад\": \"Ref.Склады\",\n        \"Комментарий\": \"string\"\n      ],\n      \"tabularSections\": [\n        {\n          \"Товары\": [\n            \"Номенклатура\": \"Ref.Номенклатура\",\n            \"Количество\": \"number\",\n            \"Цена\": \"number\",\n            \"Сумма\": \"calculated as Количество * Цена\"\n          ]\n        }\n      ]\n    }\n  ]\n}",
  "validation": "Функция ЗадачаРешена(ТабДокумент) Экспорт\n\n\tЕсли ТабДокумент.ВысотаТаблицы < 13 Тогда \n\t\tВозврат Ложь;\n\tКонецЕсли;\n\n\t// Получаем значения из первых двух строк данных (индексация с 1)\n\tЗначение1 = ТабДокумент.Область(\"R1C1\").Текст;  \n\tЗначение2 = ТабДокумент.Область(\"R3C1\").Текст;  \n\tЗначение3 = ТабДокумент.Область(\"R3C2\").Текст;\n\n\tЕсли Значение1 <> \"Контрагент\" Или Значение2 <> \"Магазин \"\"Продукты\"\"\" ИЛИ Значение3 <> \"323391\" Тогда\n\t\tВозврат Ложь;\n\tКонецЕсли;\n\n\tВозврат Истина;\n\nКонецФункции\n\n\n",
  "gt_solution": "\nФункция ЗаполнитьТабличныйДокумент(ТабДокумент, Макет, Дата) Экспорт\n\n\t// Граница периода: берём остатки на конец дня указанной даты\n\tДатаКон = КонецДня(Дата);\n\n\t// Запрос по виртуальной таблице Остатки регистра \"Взаиморасчеты\".\n\t// Суммируем по контрагенту (валюту игнорируем — если нужно раздельно по валютам,\n\t// добавьте поле Валюта в выборку/группировку и параметр в макет).\n\tЗапрос = Новый Запрос;\n\tЗапрос.Текст =\n\t\"ВЫБРАТЬ\n\t|\tОстатки.Контрагент КАК Контрагент,\n\t|\tСУММА(Остатки.СуммаОстаток) КАК Задолженность\n\t|ИЗ\n\t|\tРегистрНакопления.Взаиморасчеты.Остатки(&ДатаКон, ) КАК Остатки\n\t|СГРУППИРОВАТЬ ПО\n\t|\tОстатки.Контрагент\n\t|ИМЕЮЩИЕ\n\t|\tСУММА(Остатки.СуммаОстаток) <> 0\n\t|УПОРЯДОЧИТЬ ПО\n\t|\tКонтрагент\";\n\n\tЗапрос.УстановитьПараметр(\"ДатаКон\", ДатаКон);\n\n\tРезультат = Запрос.Выполнить();\n\tВыборка = Результат.Выбрать();\n\n\t// Подготовка табличного документа\n\tТабДокумент.Очистить();\n\n\tЕсли Макет <> Неопределено Тогда\n\t\tОбластьШапка = Макет.ПолучитьОбласть(\"Шапка\");\n\t\tЕсли ОбластьШапка <> Неопределено Тогда\n\t\t\tТабДокумент.Вывести(ОбластьШапка);\n\t\tКонецЕсли;\n\tКонецЕсли;\n\n\tЕстьДанные = Ложь;\n\n\tПока Выборка.Следующий() Цикл\n\t\tЕстьДанные = Истина;\n\n\t\tОбластьСтрока = Макет.ПолучитьОбласть(\"Строка\");\n\t\tЕсли ОбластьСтрока = Неопределено Тогда\n\t\t\tВызватьИсключение \"В макете отсутствует секция 'Строка'.\";\n\t\tКонецЕсли;\n\n\t\tОбластьСтрока.Параметры.Контрагент    = Выборка.Контрагент;\n\t\tОбластьСтрока.Параметры.Задолженность = Выборка.Задолженность;\n\n\t\tТабДокумент.Вывести(ОбластьСтрока);\n\tКонецЦикла;\n\n\tВозврат ТабДокумент;\n\nКонецФункции\n",
  "run_context": "Функция ЗапуститьРешение() Экспорт\n\tМакет = ЭтотОбъект.ПолучитьМакет(\"Задача3\");\t                   \n    ТабДокумент = Новый ТабличныйДокумент();   \n\tДата = '20250920';\n\tЗаполнитьТабличныйДокумент(ТабДокумент, Макет, Дата);\n\t\n\tВозврат ЗадачаРешена(ТабДокумент);\nКонецФункции\n\n"
}