{
  "task": "\nсоздай функцию УшедшийТовар(Дата1, Дата2), которая возвращает таблицу значений с товаром, который был на складе (любом) на Дата1, но отсутствует на складе на Дата2. \nИспользовать остатки регистра \"ТоварныеЗапасы\".\nВ таблице должны быть колонки: \"Товар\" (ссылка на справочник Товары), \"Количество\" (количество товара на Дата1).",
  "context": "",
  "validation": "\nФункция ЗадачаРешена(РезультатТаблица) Экспорт\n\n\t// Ожидаемые значения для проверки (схематично)\n\tОжидаемоеКоличествоСтрок = 1; // Количество товаров, которые ушли со склада\n\tТовар = Справочники.Товары.НайтиПоНаименованию(\"Veko67NE\");\n\n\t// Проверяем, что результат является таблицей значений\n\tЕсли ТипЗнч(РезультатТаблица) <> Тип(\"ТаблицаЗначений\") Тогда\n\t\tВозврат Ложь;\n\tКонецЕсли;\n\n\t// Проверяем количество строк в результате\n\tЕсли РезультатТаблица.Количество() <> ОжидаемоеКоличествоСтрок Тогда\n\t\tВозврат Ложь;\n\tКонецЕсли;\n\n\t// Проверяем наличие необходимых колонок\n\tПопытка\n\t\tКолонки = РезультатТаблица.Колонки;\n\t\tЕсли Колонки.Найти(\"Товар\") = Неопределено ИЛИ Колонки.Найти(\"Количество\") = Неопределено Тогда\n\t\t\tВозврат Ложь;\n\t\tКонецЕсли;\n\tИсключение\n\t\tВозврат Ложь;\n\tКонецПопытки;\n\n\t// Проверяем значения в первой строке\n\tЕсли РезультатТаблица.Количество() >= 1 Тогда\n\t\tСтрока1 = РезультатТаблица[0];\n\n\t\t// Проверяем, что товар является справочником\n\t\tЕсли Строка1.Товар <> Товар Тогда\n\t\t\tВозврат Ложь;\n\t\tКонецЕсли;\n\n\t\tЕсли Строка1.Количество <> 60 Тогда\n\t\t\tВозврат Ложь;\n\t\tКонецЕсли;           \n\t\t\n\tКонецЕсли;\n\n\tВозврат Истина;\n\nКонецФункции\n",
  "gt_solution": "\nФункция УшедшийТовар(Дата1, Дата2) Экспорт\n\n\t// Определяем граничные моменты времени для выборки остатков\n\tДатаКон1 = КонецДня(Дата1);\n\tДатаКон2 = КонецДня(Дата2);\n\n\t// Запрос для получения товаров, которые были на складах на Дата1, но отсутствуют на Дата2\n\tЗапрос = Новый Запрос;\n\tЗапрос.Текст =\n\t\"ВЫБРАТЬ\n\t|\tОстатки1.Товар КАК Товар,\n\t|\tСУММА(Остатки1.КоличествоОстаток) КАК Количество\n\t|ИЗ\n\t|\tРегистрНакопления.ТоварныеЗапасы.Остатки(&ДатаКон1, ) КАК Остатки1\n\t|\t\tЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварныеЗапасы.Остатки(&ДатаКон2, ) КАК Остатки2\n\t|\t\tПО Остатки1.Товар = Остатки2.Товар\n\t|ГДЕ\n\t|\tОстатки1.КоличествоОстаток > 0\n\t|\tИ (Остатки2.КоличествоОстаток ЕСТЬ NULL\n\t|\t\t\tИЛИ Остатки2.КоличествоОстаток = 0)\n\t|\n\t|СГРУППИРОВАТЬ ПО\n\t|\tОстатки1.Товар\n\t|\n\t|УПОРЯДОЧИТЬ ПО\n\t|\tТовар\";\n\n\tЗапрос.УстановитьПараметр(\"ДатаКон1\", ДатаКон1);\n\tЗапрос.УстановитьПараметр(\"ДатаКон2\", ДатаКон2);\n\n\tРезультат = Запрос.Выполнить();\n\n\t// Создаем таблицу значений для результата\n\tРезультатТаблица = Новый ТаблицаЗначений;\n\tРезультатТаблица.Колонки.Добавить(\"Товар\", Новый ОписаниеТипов(\"СправочникСсылка.Товары\"));\n\tРезультатТаблица.Колонки.Добавить(\"Количество\", Новый ОписаниеТипов(\"Число\"));\n\n\t// Заполняем таблицу результатами запроса\n\tВыборка = Результат.Выбрать();\n\tПока Выборка.Следующий() Цикл\n\t\tНоваяСтрока = РезультатТаблица.Добавить();\n\t\tНоваяСтрока.Товар = Выборка.Товар;\n\t\tНоваяСтрока.Количество = Выборка.Количество;\n\tКонецЦикла;\n\n\tВозврат РезультатТаблица;\n\nКонецФункции\n\n",
  "run_context": "Функция ЗапуститьРешение() Экспорт\n\n\t// Подготовка тестовых данных\n\tДата1 = '20230501';  \n\tДата2 = '20230503';\n\t\n\t// Вызываем функцию решения\n\t// Должны получить Товар1 и Товар2, которые были на Дата1, но отсутствуют на Дата2\n\tРезультатТаблица = УшедшийТовар(Дата1, Дата2);\n\n\t// Вызываем функцию валидатора для проверки решения задачи\n\tРезультатПроверки = ЗадачаРешена(РезультатТаблица);\n\n\tВозврат РезультатПроверки;\n\nКонецФункции"
}