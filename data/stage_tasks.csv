task,context,sample,validation
"Создай функцию ЗаполнитьТабличнуюЧастьОстатками(ДокументОбъект), которая заполняет табличную часть документа «Товары» остатками из регистра «ТоварныеЗапасы» на указанную дату и склад, отбирая только товары видом товара = Товар. Для каждой позиции остатка нужно добавить строку в табличную часть и перенести туда товар и количество.","{
  ""Documents"": [
    {
      ""id"": ""Заказ"",
      ""properties"": [
        ""Номер"": ""string"",
        ""Дата"": ""date"",
        ""Клиент"": ""Ref.Контрагенты"",
        ""Склад"": ""Ref.Склады"",
        ""Комментарий"": ""string""
      ],
      ""tabularSections"": [
        {
          ""Товары"": [
            ""Номенклатура"": ""Ref.Номенклатура"",
            ""Количество"": ""number"",
            ""Цена"": ""number"",
            ""Сумма"": ""calculated as Количество * Цена""
          ]
        }
      ]
    }
  ]
}","Функция ЗаполнитьТабличнуюЧастьОстатками(ДокументОбъект)
	Запрос = Новый Запрос();
	Запрос.Текст = 
	""ВЫБРАТЬ
	|	Т.Товар КАК Товар,
	|	Т.КоличествоОстаток КАК Количество
	|ИЗ
	|	РегистрНакопления.ТоварныеЗапасы.Остатки(&Дата, Склад = &Склад) КАК Т
	|ГДЕ
	|	Т.Товар.Вид = &Вид"";
	Запрос.УстановитьПараметр(""Дата"", ДокументОбъект.Дата);   
	Запрос.УстановитьПараметр(""Склад"", Документбъект.Склад);

	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СтрокаТЧ = ДокументОбъект.Товары.Добавить();
		ЗаполнитьЗначениеСвойств(СтрокаТЧ, Выборка);
	КонецЦикла;
КонецФункции
","Функция ЗадачаРешена(ДокументОбъект) Экспорт
	Если ДокументОбъект.Товары.Количество() <> 2 Тогда
		Возврат Ложь;
	КонецЕсли;
	
	ПерваяСтрока = ДокументОбъект.Товары[0];
	ВтораяСтрока = ДокументОбъект.Товары[1];
	
	Если ПерваяСтрока.Количество = 4 И ВтораяСтрока.Количество = 10 Тогда
		Возврат Истина;
	Иначе
		Возврат Ложь;
	КонецЕсли;
КонецФункции"
