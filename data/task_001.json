{
  "task": "Создай функцию ЗаполнитьТабличнуюЧастьОстатками(ДокументОбъект), которая заполняет табличную часть документа «Заказ» «Товары» остатками из регистра «ТоварныеЗапасы» для склада и даты, заданных в документе. Отбирать только товары видом товара = Товар. Для каждой позиции остатка нужно добавить строку в табличную часть и перенести туда товар и количество.",
  "context": "{\n  \"Documents\": [\n    {\n      \"id\": \"Заказ\",\n      \"properties\": [\n        \"Номер\": \"string\",\n        \"Дата\": \"date\",\n        \"Клиент\": \"Ref.Контрагенты\",\n        \"Склад\": \"Ref.Склады\",\n        \"Комментарий\": \"string\"\n      ],\n      \"tabularSections\": [\n        {\n          \"Товары\": [\n            \"Номенклатура\": \"Ref.Номенклатура\",\n            \"Количество\": \"number\",\n            \"Цена\": \"number\",\n            \"Сумма\": \"calculated as Количество * Цена\"\n          ]\n        }\n      ]\n    }\n  ]\n}",
  "validation": "Функция ЗадачаРешена(ДокументОбъект) Экспорт\n    // Проверяем ровно две строки и точные количества\n    Если ДокументОбъект.Товары.Количество() <> 19 Тогда\n        Возврат Ложь;\n    КонецЕсли;\n\n   \tСуммаКоличеств = 0;\n\tДля каждого СтрТовар Из ДокументОбъект.Товары Цикл\n\t    СуммаКоличеств = СуммаКоличеств + СтрТовар.Количество;\n\tКонецЦикла;\n\n\tВозврат СуммаКоличеств = 299;    \n\t\nКонецФункции\n",
  "gt_solution": "Функция ЗаполнитьТабличнуюЧастьОстатками(ДокументОбъект)\n\tЗапрос = Новый Запрос();\n\tЗапрос.Текст = \n\t\"ВЫБРАТЬ\n\t|\tТ.Товар КАК Товар,\n\t|\tТ.КоличествоОстаток КАК Количество\n\t|ИЗ\n\t|\tРегистрНакопления.ТоварныеЗапасы.Остатки(&Дата, Склад = &Склад) КАК Т\n\t|ГДЕ\n\t|\tТ.Товар.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТоваров.Товар)\";    \n\t\n\tЗапрос.УстановитьПараметр(\"Дата\",  ДокументОбъект.Дата);   \n\tЗапрос.УстановитьПараметр(\"Склад\", ДокументОбъект.Склад);\n\n\tВыборка = Запрос.Выполнить().Выбрать();\n\tПока Выборка.Следующий() Цикл\n\t\tСтрокаТЧ = ДокументОбъект.Товары.Добавить();\n\t\tЗаполнитьЗначенияСвойств(СтрокаТЧ, Выборка);\n\tКонецЦикла;  \n\t\nКонецФункции\n",
  "run_context": "Функция ЗапуститьРешение() Экспорт\n\tДокументОбъект = Документы.Заказ.СоздатьДокумент();\t                   \n\tДокументОбъект.Дата = '20250920';\n\tДокументОбъект.Склад = Справочники.Склады.НайтиПоНаименованию(\"Большой\");    \n\tЗаполнитьТабличнуюЧастьОстатками(ДокументОбъект);\n\t\n\tВозврат ЗадачаРешена(ДокументОбъект);\nКонецФункции\n\n"
}